<!DOCTYPE html>
<html lang="en">
  <!-- Mathjax Support -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      inlineMath: [['$','$']]
    }
  });
</script>
<script type="text/javascript" async
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
</script>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
  
  <title>The Stories of Summer Olympics</title>
  <meta name="description" content="This is about the stories of Summer Olympics - not just one story but many stories and not just the recently concluded Tokyo Olympics, but all of the Olympic games since the first one in Athens in 1896. Although the analysis of the medals won by different countries would make the story read like a story medals and achievements statistics, there are other stories hidden within. We will narrate many of those as we do the analysis. We will use pandas library to do the data analysis and plotly to create our plots that would tell a visual story. import pandas as pd import plotly.express as px When we look at the hosts we see many western powers with Brazil and China (then emerging economies) hosting in 2008 and 2016 respectively. Of course, hosting an Olympics is no small thing - the infrastructure, safety, accessibility, etc. play a huge role and many of these cost money. London seems to be the only city that has hosted Olympics thrice. total_medals_by_host_city = summer_df.groupby([&#39;City&#39;, &#39;Year&#39;], as_index=False)[&#39;Medal&#39;].count() fig = px.bar(total_medals_by_host_city, x=&#39;City&#39;, y=&#39;Medal&#39;, hover_data = [&#39;Medal&#39;, &#39;Year&#39;], color=&#39;Medal&#39;, title=&#39;Medals Awarded at Each Venue&#39;) fig.add_annotation(x=&#39;London&#39;, y=1690, text=&quot;London has hosted Olympics thrice...&quot;, ... ... opacity=1.0 ) The number of events in each of the Olympics also seems to be different, as evidenced by the total number of medals awarded during the games. With Paris and London regularly competing for the best European City regularly I believe it is high time Paris got a chance to host the Summer Olympic games, and very glad 2024 Olympics are going to be held in Paris. I also hope more and more emerging economies to be able to host the games. The motivation and interest in sports such events would infuse is invaluable. When we look at the cumulative number of medals won from the start of Summer Olympic games, USA clearly leads. But more important to note here is Russia which was more excellent in sports, science and technology, arts and culture, etc., when it was Soviet Union. Also interesting to note is the presence of an entry Individual athletes - athletes who chose to compete under the Olympic flag instead of any specific country. This is a political story. total_medals_by_country = summer_df.groupby(&#39;Country&#39;, as_index=False)[&#39;Medal&#39;].count() fig = px.bar(total_medals_by_country, x=&#39;Country&#39;, y=&#39;Medal&#39;, hover_data = [&#39;Medal&#39;], color=&#39;Medal&#39;, title=&#39;Cumulative Number of Medals Won (1896-2021)&#39;) There were many instances where athletes who requested to compete independently and were refused - for example, the ones who emigrated from Communist Europe during the cold war, as well as some during the 1976 Olympic boycott. The first provisions were made by IOC (International Olympic Committee) during the 1980 Summer Olympics hosted at Moscow. When we look at the countries that shine on the top of the medals table regularly the familiar pattern is clear. It is mostly European countries, USA, Australia and more recently China. Although we might have cheered Usain Bolt’s sprints and track and field athletics being one of the most anticipated events of the Summer Olympic games, in terms of total number of medals, many western countries top the table year after year. This also indicates the broad variety and the number of events in the summer games. There is also a political story hidden here, that of the 1980 Summer Olympics. There were only two cities that bid to host the games - Los Angeles and Moscow and eventually Moscow won. If you notice the 1980 Olympics that was hosted by Moscow, Russia seems to be the clear leader in terms of number of medals. Almost always, one expects host country to win several medals, but scoring more medals than the usual competitive powers is always a big achievement. Many nations boycotted the 1980 Olympics, led by the USA to protest against the Soviet-Afghan war. It had the smallest participation - just around 80 countries. def top_n(n): return ( df .groupby(&quot;Country&quot;) .agg({&quot;Medal Count&quot;: &quot;sum&quot;}) .sort_values(&quot;Medal Count&quot;, ascending=False) .head(n) ) df = summer_df.groupby([&#39;Year&#39;, &#39;Country&#39;, &#39;Medal&#39;]).size().reset_index() df.columns = [&#39;Year&#39;, &#39;Country&#39;, &#39;Medal&#39;, &#39;Medal Count&#39;] fig = px.bar(df.loc[df[&quot;Country&quot;].isin(top_n(10).index)], x=&#39;Year&#39;, y=&#39;Medal Count&#39;, hover_data = [&#39;Country&#39;, &#39;Medal Count&#39;, &#39;Medal&#39;], color=&#39;Country&#39;, barmode=&#39;stack&#39;, color_continuous_scale=px.colors.sequential.Viridis, title=&#39;Medal Winners in Olympics&#39;) There are more politics stories in Olympics. The apparent gaps in the plot below makes one wonder what happened those years. The 1916 summer Olympics, to be hosted by Berlin, were cancelled due to World War I, a first cancellation in the 20 year history of Olympics during those days. The 1940 Olympics to be hosted by Tokyo were rescheduled to be hosted by Finland (due to Japan’s invasion of China in 1937) and eventually cancelled due to the outbreak of World War II. Again, the 1944 Summer Olympics to be hosted by London got cancelled due to World War II. The 2020 Olympics hosted by Tokyo was rescheduled to 2021 due to the outbreak of Covid. It took tremendous courage and organization by Japan and the participating countries to put up a great show during the pandemic. df_final = (df).fillna(0).sort_values(idcols) .groupby(idcols[1:]) .cumsum() .rename(columns={0: &#39;Cumulative Total Medals&#39;}) .reset_index() .merge(dfnoc, on=&#39;NOC&#39;) Now, to finish it off, let us see how the top 25 medal winners (measured as per medals won in 2020) have fared over the years in terms of total medals won. The rise of China as a major sporting nation is very apparent. fig = px.scatter( df_final.loc[df_final[&quot;Country&quot;].isin(top_n(25).index)], x=&quot;Country&quot;, y=&quot;Cumulative Total Medals&quot;, log_y=True, size=&quot;Cumulative Total Medals&quot;, color_discrete_sequence=[&quot;brown&quot;,&quot;gold&quot;,&quot;silver&quot;], color=&quot;Medal&quot;, animation_frame=&quot;Year&quot;, hover_name=&quot;Country&quot;, title=&quot;The Olympics Story&quot;, ) While this short post tells several stories behind the Summer Olympics, I would like to write a future post on the stories behind Paralympics which will would be stories of courge, inspiration and extraordinary commitment. The data used here is from a Kaggle dataset. This Kaggle dataset was also used to get NOC (National Olympic Committee) codes of the different countries. Some of the numbers in the dataset does not seem to agree with tables in Wikipedia, nevertheless the differences are not huge to change the story.">
  
    
    <meta name="keywords" content="Olympics,medals,data science,pandas,plotly">
  

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://dotkay.github.io/2021/08/16/stories-of-summer-olympics/">
  
  
  <link rel="alternate" type="application/rss+xml" title="" href="https://dotkay.github.io/feed.xml">

  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:title" content="The Stories of Summer Olympics">
  <meta name="twitter:description" content="This is about the stories of Summer Olympics - not just one story but many stories and not just the recently concluded Tokyo Olympics, but all of the Olympic games since the first one in Athens in ...">
  
  

  
  
  <script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Bitter:400,700,400italic:latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  
  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-105390377-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <!-- Mathjax Support 
    <a class="site-title" href="/"></a> 
    -->
    <img src="/assets/images/dotkay.png" width="100" height="80">

    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/">About</a>
      
        
        <a class="page-link" href="/archives/">Posts</a>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    
      <h1 class="post-title" itemprop="name headline"><a href="https://dotkay.github.io/2021/08/16/stories-of-summer-olympics">The Stories of Summer Olympics &rarr;</a></h1>
    
    <p class="post-meta"><time datetime="2021-08-16T00:00:00+00:00" itemprop="datePublished">Aug 16, 2021</time> • 
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <a href="/categories/olympics/">Olympics</a>,
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <a href="/categories/medals/">medals</a>,
    
  
    
  
    
  
    
  
    
  
    
  

  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <a href="/categories/data-science/">data science</a>
    
  
    
  
    
  
    
  
    
  

</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>This is about the stories of Summer Olympics - not just one story but many stories and not just the recently concluded Tokyo Olympics, but all of the Olympic games since the first one in Athens in 1896. Although the analysis of the medals won by different countries would make the story read like a story medals and achievements statistics, there are other stories hidden within. We will narrate many of those as we do the analysis.</p>

<p>We will use <code class="language-plaintext highlighter-rouge">pandas</code> library to do the data analysis and plotly to create our plots that would tell a visual story.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="n">px</span>
</code></pre></div></div>

<p>When we look at the hosts we see many western powers with Brazil and China (then emerging economies) hosting in 2008 and 2016 respectively. Of course, hosting an Olympics is no small thing - the infrastructure, safety, accessibility, etc. play a huge role and many of these cost money. London seems to be the only city that has hosted Olympics thrice.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">total_medals_by_host_city</span> <span class="o">=</span> <span class="n">summer_df</span><span class="p">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">'City'</span><span class="p">,</span> <span class="s">'Year'</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="s">'Medal'</span><span class="p">].</span><span class="n">count</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">total_medals_by_host_city</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">'City'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'Medal'</span><span class="p">,</span>
            <span class="n">hover_data</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Medal'</span><span class="p">,</span> <span class="s">'Year'</span><span class="p">],</span> 
            <span class="n">color</span><span class="o">=</span><span class="s">'Medal'</span><span class="p">,</span> 
            <span class="n">title</span><span class="o">=</span><span class="s">'Medals Awarded at Each Venue'</span><span class="p">)</span>
<span class="n">fig</span><span class="p">.</span><span class="n">add_annotation</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">'London'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1690</span><span class="p">,</span>
        <span class="n">text</span><span class="o">=</span><span class="s">"London has hosted Olympics thrice..."</span><span class="p">,</span>
        <span class="p">...</span>
        <span class="p">...</span>
        <span class="n">opacity</span><span class="o">=</span><span class="mf">1.0</span>
<span class="p">)</span>

</code></pre></div></div>
<p>The number of events in each of the Olympics also seems to be different, as evidenced by the total number of medals awarded during the games. With Paris and London regularly competing for the best European City regularly I believe it is high time Paris got a chance to host the Summer Olympic games, and very glad 2024 Olympics are going to be held in Paris. I also hope more and more emerging economies to be able to host the games. The motivation and interest in sports such events would infuse is invaluable.</p>

<iframe id="igraph" scrolling="no" style="border:none;" seamless="seamless" src="https://plotly.com/~kkplot/17.embed" height="525" width="100%"></iframe>

<p>When we look at the cumulative number of medals won from the start of Summer Olympic games, USA clearly leads. But more important to note here is Russia which was more excellent in sports, science and technology, arts and culture, etc., when it was Soviet Union. Also interesting to note is the presence of an entry <em>Individual athletes</em> - athletes who chose to compete under the Olympic flag instead of any specific country. This is a political story.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">total_medals_by_country</span> <span class="o">=</span> <span class="n">summer_df</span><span class="p">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'Country'</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="s">'Medal'</span><span class="p">].</span><span class="n">count</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">total_medals_by_country</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">'Country'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'Medal'</span><span class="p">,</span>
            <span class="n">hover_data</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Medal'</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s">'Medal'</span><span class="p">,</span> 
            <span class="n">title</span><span class="o">=</span><span class="s">'Cumulative Number of Medals Won (1896-2021)'</span><span class="p">)</span>
</code></pre></div></div>

<p>There were many instances where athletes who requested to compete independently and were refused - for example, the ones who emigrated from Communist Europe during the cold war, as well as some during the <a href="https://en.wikipedia.org/wiki/1976_Olympic_boycott">1976 Olympic boycott</a>. The first provisions were made by IOC (International Olympic Committee) during the 1980 Summer Olympics hosted at Moscow.</p>

<iframe id="igraph" scrolling="no" style="border:none;" seamless="seamless" align="middle" src="https://plotly.com/~kkplot/15.embed" height="600" width="1000"></iframe>

<p>When we look at the countries that shine on the top of the medals table regularly the familiar pattern is clear. It is mostly European countries, USA, Australia and more recently China. Although we might have cheered Usain Bolt’s sprints and track and field athletics being one of the most anticipated events of the Summer Olympic games, in terms of total number of medals, many western countries top the table year after year. This also indicates the broad variety and the number of events in the summer games.</p>

<p>There is also a political story hidden here, that of the 1980 Summer Olympics. There were only two cities that bid to host the games - Los Angeles and Moscow and eventually Moscow won. If you notice the 1980 Olympics that was hosted by Moscow, Russia seems to be the clear leader in terms of number of medals. Almost always, one expects host country to win several medals, but scoring more medals than the usual competitive powers is always a big achievement. Many nations boycotted the 1980 Olympics, led by the USA to protest against the Soviet-Afghan war. It had the smallest participation - just around 80 countries.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">top_n</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span>
     <span class="n">df</span> 
    <span class="p">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">"Country"</span><span class="p">)</span>
    <span class="p">.</span><span class="n">agg</span><span class="p">({</span><span class="s">"Medal Count"</span><span class="p">:</span> <span class="s">"sum"</span><span class="p">})</span>
    <span class="p">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s">"Medal Count"</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">summer_df</span><span class="p">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">'Year'</span><span class="p">,</span> <span class="s">'Country'</span><span class="p">,</span> <span class="s">'Medal'</span><span class="p">]).</span><span class="n">size</span><span class="p">().</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">df</span><span class="p">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Year'</span><span class="p">,</span> <span class="s">'Country'</span><span class="p">,</span> <span class="s">'Medal'</span><span class="p">,</span> <span class="s">'Medal Count'</span><span class="p">]</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">"Country"</span><span class="p">].</span><span class="n">isin</span><span class="p">(</span><span class="n">top_n</span><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="n">index</span><span class="p">)],</span> 
             <span class="n">x</span><span class="o">=</span><span class="s">'Year'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'Medal Count'</span><span class="p">,</span>
            <span class="n">hover_data</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Country'</span><span class="p">,</span> <span class="s">'Medal Count'</span><span class="p">,</span> <span class="s">'Medal'</span><span class="p">],</span>
            <span class="n">color</span><span class="o">=</span><span class="s">'Country'</span><span class="p">,</span> <span class="n">barmode</span><span class="o">=</span><span class="s">'stack'</span><span class="p">,</span>
            <span class="n">color_continuous_scale</span><span class="o">=</span><span class="n">px</span><span class="p">.</span><span class="n">colors</span><span class="p">.</span><span class="n">sequential</span><span class="p">.</span><span class="n">Viridis</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="s">'Medal Winners in Olympics'</span><span class="p">)</span>
</code></pre></div></div>
<iframe id="igraph" scrolling="no" style="border:none;" seamless="seamless" src="https://plotly.com/~kkplot/19.embed" height="800" width="1000"></iframe>

<p>There are more politics stories in Olympics. The apparent gaps in the plot below makes one wonder what happened those years. The 1916 summer Olympics, to be hosted by Berlin, were cancelled due to World War I, a first cancellation in the 20 year history of Olympics during those days. The 1940 Olympics to be hosted by Tokyo were rescheduled to be hosted by Finland (due to Japan’s invasion of China in 1937) and eventually cancelled due to the outbreak of World War II. Again, the 1944 Summer Olympics to be hosted by London got cancelled due to World War II. The 2020 Olympics hosted by Tokyo was rescheduled to 2021 due to the outbreak of Covid. It took tremendous courage and organization by Japan and the participating countries to put up a great show during the pandemic.</p>

<iframe id="igraph" scrolling="no" style="border:none;" seamless="seamless" src="https://plotly.com/~kkplot/21.embed" height="800" width="1000"></iframe>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df_final</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">).</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="n">sort_values</span><span class="p">(</span><span class="n">idcols</span><span class="p">)</span>
                         <span class="p">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">idcols</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
                         <span class="p">.</span><span class="n">cumsum</span><span class="p">()</span>
                         <span class="p">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s">'Cumulative Total Medals'</span><span class="p">})</span>
                         <span class="p">.</span><span class="n">reset_index</span><span class="p">()</span>
                         <span class="p">.</span><span class="n">merge</span><span class="p">(</span><span class="n">dfnoc</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s">'NOC'</span><span class="p">)</span>
</code></pre></div></div>

<p>Now, to finish it off, let us see how the top 25 medal winners (measured as per medals won in 2020)
have fared over the years in terms of total medals won. The rise of China as a major sporting nation is very apparent.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">df_final</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df_final</span><span class="p">[</span><span class="s">"Country"</span><span class="p">].</span><span class="n">isin</span><span class="p">(</span><span class="n">top_n</span><span class="p">(</span><span class="mi">25</span><span class="p">).</span><span class="n">index</span><span class="p">)],</span>
    <span class="n">x</span><span class="o">=</span><span class="s">"Country"</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s">"Cumulative Total Medals"</span><span class="p">,</span>
    <span class="n">log_y</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="s">"Cumulative Total Medals"</span><span class="p">,</span>
    <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="p">[</span><span class="s">"brown"</span><span class="p">,</span><span class="s">"gold"</span><span class="p">,</span><span class="s">"silver"</span><span class="p">],</span>
    <span class="n">color</span><span class="o">=</span><span class="s">"Medal"</span><span class="p">,</span>
    <span class="n">animation_frame</span><span class="o">=</span><span class="s">"Year"</span><span class="p">,</span>
    <span class="n">hover_name</span><span class="o">=</span><span class="s">"Country"</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s">"The Olympics Story"</span><span class="p">,</span>
<span class="p">)</span>

</code></pre></div></div>
<iframe id="igraph" scrolling="no" style="border:none;" seamless="seamless" src="https://plotly.com/~kkplot/24.embed" height="800" width="1100"></iframe>

<p><br />
<br /></p>

<p>While this short post tells several stories behind the Summer Olympics, I would like to write a future post on the stories behind Paralympics which will would be stories of courge, inspiration and extraordinary commitment.</p>

<p><br /></p>

<p><span style="color:gray; font-size: 70%; text-align: left;">
The data used here is from a <a href="https://www.kaggle.com/amirba/olympic-sports-and-medals-18962021" target="_self">Kaggle dataset</a>. This <a href="https://www.kaggle.com/heesoo37/120-years-of-olympic-history-athletes-and-results" target="_self">Kaggle dataset</a> was also used to get NOC (National Olympic Committee) codes of the different countries. Some of the numbers in the dataset does not seem to agree with tables in Wikipedia, nevertheless the differences are not huge to change the story.
</span></p>

  </div>

  

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <p>
      

&copy;  - Powered by <a href="https://jekyllrb.com">Jekyll</a> &amp; <a href="https://github.com/yous/whiteglass">whiteglass</a> - Subscribe via <a href="https://dotkay.github.io/feed.xml">RSS</a>

    </p>

  </div>

</footer>


  </body>

</html>
